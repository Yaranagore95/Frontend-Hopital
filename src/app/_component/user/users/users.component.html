<div class="container mt-3">
  <mat-sidenav mode="side" opened>

    <mat-tab-group>
      <mat-tab label="USERS">
        <mat-nav-list>
          <table class="table table-striped text-center" mdbTable>
            <thead>
            <tr>
              <th *ngFor="let head of headElements" scope="col">{{head}} </th>
            </tr>
            </thead>
            <tbody>
            <tr mdbTableCol *ngFor="let user of users">
              <th scope="row">{{user.nom}}</th>
              <td>{{user.prenom}}</td>
              <td>{{user.matricule}}</td>
              <td>{{user.username}}</td>
              <td style="color: #710ec8; size: 8px;"><a routerLink="/user/{{user.id}}"><i class="fa fa-eye"></i></a></td>
              <td style="color: #007bff; size: 8px;"><a routerLink="/edit-user/{{user.id}}"><i class="fa fa-edit"></i></a></td>
              <td style="color: red;size: 8px;"><a routerLink="/delete-user/{{user.id}}"><i class="fa fa-trash"></i></a></td>
            </tr>
            </tbody>
          </table>
        </mat-nav-list>
      </mat-tab>
      <mat-tab label="ADD USER">
        <h4 class="mt-3 ml-5" style="color: #710ec8;"><i class="fa fa-users"></i>&nbsp;&nbsp;ADD USER</h4>
        <form [formGroup]="formAdd" (ngSubmit)="onSubmit()" ngNativeValidate class="form">
          <div fxLayout="column" fxLayoutGap="8px">
            <div class="mb-3"></div>
            <mat-form-field>
              <input matInput placeholder="VOTRE NOM" formControlName="nom" required [ngClass]="{ 'is-invalid': submitted && f.nom.errors }">
            </mat-form-field>
            <mat-form-field>
              <input matInput placeholder="VOTRE PRENOM" formControlName="prenom" required [ngClass]="{ 'is-invalid': submitted && f.prenom.errors }">
            </mat-form-field>
            <mat-form-field>
              <input matInput placeholder="VOTRE MATRICULE" formControlName="matricule" required [ngClass]="{ 'is-invalid': submitted && f.matricule.errors }">
            </mat-form-field>
            <mat-form-field>
              <input matInput name="username" placeholder="VOTRE PSEUDO" formControlName="username" required [ngClass]="{ 'is-invalid': submitted && f.username.errors }">
            </mat-form-field>
            <mat-form-field>
              <input matInput type="password" placeholder="MOT DE PASSE" name="password" formControlName="password" required [ngClass]="{ 'is-invalid': submitted && f.password.errors }">
            </mat-form-field>
            <mat-form-field>
              <input matInput type="password" placeholder="CONFIRMER MOT DE PASSE" formControlName="password2" name="password" required [ngClass]="{ 'is-invalid': submitted && f.password2.errors }">
            </mat-form-field>
            <div class="form-group">
              <label for="img">PROFIL</label>
              <input type="file" id="img" formControlName="profil" class="form-control">
            </div>
            <mat-form-field>
              <mat-label>Roles</mat-label>
              <mat-select formControlName="role" required [ngClass]="{ 'is-invalid': submitted && f.role.errors }"  multiple>
                <mat-option *ngFor="let role of roles" [value]="role">{{role.libelle}}</mat-option>
              </mat-select>
            </mat-form-field>
          </div>
          <div class="form-group">
            <button [disabled]="loading" style="background-color: #710ec8;" class="btn btn-primary">Sign In</button>
            <img *ngIf="loading" class="pl-2" src="data:image/gif;base64,R0lGODlhEAAQAPIAAP///wAAAMLCwkJCQgAAAGJiYoKCgpKSkiH/C05FVFNDQVBFMi4wAwEAAAAh/hpDcmVhdGVkIHdpdGggYWpheGxvYWQuaW5mbwAh+QQJCgAAACwAAAAAEAAQAAADMwi63P4wyklrE2MIOggZnAdOmGYJRbExwroUmcG2LmDEwnHQLVsYOd2mBzkYDAdKa+dIAAAh+QQJCgAAACwAAAAAEAAQAAADNAi63P5OjCEgG4QMu7DmikRxQlFUYDEZIGBMRVsaqHwctXXf7WEYB4Ag1xjihkMZsiUkKhIAIfkECQoAAAAsAAAAABAAEAAAAzYIujIjK8pByJDMlFYvBoVjHA70GU7xSUJhmKtwHPAKzLO9HMaoKwJZ7Rf8AYPDDzKpZBqfvwQAIfkECQoAAAAsAAAAABAAEAAAAzMIumIlK8oyhpHsnFZfhYumCYUhDAQxRIdhHBGqRoKw0R8DYlJd8z0fMDgsGo/IpHI5TAAAIfkECQoAAAAsAAAAABAAEAAAAzIIunInK0rnZBTwGPNMgQwmdsNgXGJUlIWEuR5oWUIpz8pAEAMe6TwfwyYsGo/IpFKSAAAh+QQJCgAAACwAAAAAEAAQAAADMwi6IMKQORfjdOe82p4wGccc4CEuQradylesojEMBgsUc2G7sDX3lQGBMLAJibufbSlKAAAh+QQJCgAAACwAAAAAEAAQAAADMgi63P7wCRHZnFVdmgHu2nFwlWCI3WGc3TSWhUFGxTAUkGCbtgENBMJAEJsxgMLWzpEAACH5BAkKAAAALAAAAAAQABAAAAMyCLrc/jDKSatlQtScKdceCAjDII7HcQ4EMTCpyrCuUBjCYRgHVtqlAiB1YhiCnlsRkAAAOwAAAAAAAAAAAA==" />
          </div>
          <div *ngIf="error" class="alert alert-danger">{{error}}</div>
        </form>
      </mat-tab>
    </mat-tab-group>

  </mat-sidenav>
</div>
